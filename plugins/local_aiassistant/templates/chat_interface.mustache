{{!
    AI Assistant Chat Interface Template
    Modern, clean chat window for Moodle integration
    Uses BEM naming conventions and semantic structure
}}
<div class="ai-chat" id="ai-chat-window" role="dialog" aria-labelledby="ai-chat-title" aria-hidden="true">
    <div class="ai-chat__container">
        {{! Chat Header }}
        <div class="ai-chat__header">
            <div class="ai-chat__header-content">
                <div class="ai-chat__header-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z"/>
                        <path d="M9.5 3L8 4L10 6L8.5 7.5L12 11L15.5 7.5L14 6L16 4L14.5 3L12 5.5L9.5 3Z" opacity="0.6"/>
                    </svg>
                </div>
                <h3 class="ai-chat__title" id="ai-chat-title">{{#str}}aiassistant:title, local_aiassistant{{/str}}</h3>
                <div class="ai-chat__status ai-chat__status--online">
                    <span class="ai-chat__status-indicator"></span>
                    <span class="ai-chat__status-text">{{#str}}aiassistant:online, local_aiassistant{{/str}}</span>
                </div>
            </div>
            <button class="ai-chat__close-btn" type="button" aria-label="{{#str}}aiassistant:close, local_aiassistant{{/str}}">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10 8.586L4.707 3.293a1 1 0 0 0-1.414 1.414L8.586 10l-5.293 5.293a1 1 0 1 0 1.414 1.414L10 11.414l5.293 5.293a1 1 0 0 0 1.414-1.414L11.414 10l5.293-5.293a1 1 0 0 0-1.414-1.414L10 8.586z"/>
                </svg>
            </button>
        </div>

        {{! Chat Messages Container }}
        <div class="ai-chat__messages" id="ai-chat-messages" role="log" aria-live="polite" aria-label="{{#str}}aiassistant:conversation, local_aiassistant{{/str}}">
            {{! Welcome Message }}
            <div class="ai-chat__message ai-chat__message--ai ai-chat__message--welcome">
                <div class="ai-chat__message-avatar">
                    <div class="ai-chat__avatar ai-chat__avatar--ai">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"/>
                        </svg>
                    </div>
                </div>
                <div class="ai-chat__message-content">
                    <div class="ai-chat__message-bubble">
                        <p>{{#str}}aiassistant:welcome_message, local_aiassistant{{/str}}</p>
                    </div>
                    <div class="ai-chat__message-time">{{#str}}aiassistant:just_now, local_aiassistant{{/str}}</div>
                </div>
            </div>
        </div>

        {{! Typing Indicator }}
        <div class="ai-chat__typing" id="ai-chat-typing" style="display: none;" aria-live="polite">
            <div class="ai-chat__message ai-chat__message--ai">
                <div class="ai-chat__message-avatar">
                    <div class="ai-chat__avatar ai-chat__avatar--ai">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"/>
                        </svg>
                    </div>
                </div>
                <div class="ai-chat__message-content">
                    <div class="ai-chat__message-bubble ai-chat__message-bubble--typing">
                        <div class="ai-chat__typing-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <span class="sr-only">{{#str}}aiassistant:typing, local_aiassistant{{/str}}</span>
                    </div>
                </div>
            </div>
        </div>

        {{! Chat Input Area }}
        <div class="ai-chat__input-area">
            <form class="ai-chat__input-form" id="ai-chat-form">
                <div class="ai-chat__input-container">
                    <label for="ai-chat-input" class="sr-only">{{#str}}aiassistant:message_placeholder, local_aiassistant{{/str}}</label>
                    <textarea 
                        id="ai-chat-input" 
                        class="ai-chat__input" 
                        placeholder="{{#str}}aiassistant:message_placeholder, local_aiassistant{{/str}}"
                        rows="1"
                        maxlength="2000"
                        aria-label="{{#str}}aiassistant:message_input, local_aiassistant{{/str}}"
                    ></textarea>
                    <div class="ai-chat__input-actions">
                        <button 
                            type="submit" 
                            class="ai-chat__send-btn" 
                            id="ai-chat-send"
                            disabled
                            aria-label="{{#str}}aiassistant:send_message, local_aiassistant{{/str}}"
                        >
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="ai-chat__input-footer">
                    <span class="ai-chat__char-count" id="ai-chat-char-count">0/2000</span>
                    <span class="ai-chat__powered-by">{{#str}}aiassistant:powered_by, local_aiassistant{{/str}}</span>
                </div>
            </form>
        </div>
    </div>
</div>